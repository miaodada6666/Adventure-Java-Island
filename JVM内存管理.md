# JVM内存管理
与其他高级语言（例如C和C++）不同,在Java中我们基本上不会显示地调用分配内存的函数，我们甚至都不用关心哪些程序指令需要分配内存，需要分配多少的内存。因为在JVM当中，内存的分配和回收都已经由JVM自动完成了，很少会遇到C++程序中OutOfMemoryError这样的内存泄露问题。  
虽然Java语言的这些特点在很大程度上减少了开发人员的麻烦，但是我们最好还是了解一下Java是如何管理内存的，当我们真正遇到内存泄漏问题时，能够根据报错信息迅速找到内存泄漏的代码并成功dubug！  
本章将会从以下几个方面介绍JVM的内存管理机制。  
- 从操作系统层面介绍物理内存的分配和Java运行的内存分配之间的关系。
- Java如何使用从物理内存申请下来的内存，以及如何来划分他们。
- 如何分配和回收内存
- 通过一些例子介绍如何解决OutOfMemoryError，并提供一些处理这类问题常用的手段。
## 物理内存和虚拟内存
所谓物理内存就是我们通常所说的RAM（随机存储器）。在计算机中，还有一个存储单元叫寄存器（在CPU中），它用于存储计算单元执行指令的中间结果。寄存器的大小决定了一次计算可使用的最大数值。通常操作系统管理内存的申请空间是按照进程来管理的，即每个进程拥有一段独立的物理空间地址，每个进程之间不会相互重合，操作系统也会保证每个进程只能访问自己的内存空间。  
其实上面所说的进程的内存空间的独立主要是指逻辑上独立，这个独立是由操作系统来保证的。但是真正的物理空间是不是只能由一个进程来使用就不一定了。因为随着程序越来越大，物理内存无法满足程序的需求，在这种情况下就有了虚拟内存的出现。  
虚拟内存的出现使得多个进程在同时运行时可以共享物理内存，这里的共享只是空间上的共享，在逻辑上他们仍是不能相互访问的。虚拟地址不但可以让进程共享物理内存，提高内存的利用率，同时还能够扩展内存的地址空间